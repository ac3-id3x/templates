/* ============================================================================================ */
/* == CSS TEMPLATE "MOBILEFIRST" */
/* ============================================================================================ */

/* --------------------------------------------------------------------- */
/* -- VARIABLES
/* --------------------------------------------------------------------- */

// HAUTEUR SLIDER CUSTOM
$slider-height: 0!default;



/* --------------------------------------------------------------------- */
/* -- GLOBAL
/* --------------------------------------------------------------------- */

body {
    background-color: $color-body;
    .container {
        width: auto;
        max-width: $sitewrap;
        @media (max-width: $sitewrap + 30px) {
            margin-right: 15px;
            margin-left: 15px;
            padding-right: 0;
            padding-left: 0;
        }
    }
}

a {
    -webkit-transition: all .3s ease;
    transition: all .3s ease;
    &:focus,
    &:hover,
    &:active {
        text-decoration: none;
        color: darken($color-action,10);
    }
}

li {
    line-height: inherit;
}


.rgpd-bloc {
    line-height: 1.2;
    opacity: .5;
}


/* --------------------------------------------------------------------- */
/* -- RESEAUX SOCIAUX
/* --------------------------------------------------------------------- */

$color-fb    : #3b5998;
$color-tw    : #1da1f2;
$color-gplus : #dc4a38;
$color-in    : #0077b5;
$color-viadeo: #f1532e;
$color-pin   : #bd081b;
$color-tblr  : #395976;
$color-insta : #365889;
$color-yt    : #f00;
$color-daily : #0066dc;
$color-blog  : $color-action;

@mixin social-color($color) {
    background-color: $color;
    @include lightnessColor($color,no);
    &:focus,
    &:hover,
    &:active {
        background-color: darken($color,10);
        @include lightnessColor($color,no);
    }
}

[class*="social-link-"] {
    display: table-cell;
    width: 30px;
    height: 30px;
    line-height: 30px;
    text-align: center;
}
.social-link-fb {
    @include social-color($color-fb);
}
.social-link-tw {
    @include social-color($color-tw);
}
.social-link-gplus {
    @include social-color($color-gplus);
}
.social-link-in {
    @include social-color($color-in);
}
.social-link-viadeo {
    @include social-color($color-viadeo);
}
.social-link-pin {
    @include social-color($color-pin);
}
.social-link-tblr {
    @include social-color($color-tblr);
}
.social-link-insta {
    @include social-color($color-insta);
}
.social-link-yt {
    @include social-color($color-yt);
}
.social-link-daily {
    @include social-color($color-daily);
}
.social-link-blog {
    @include social-color($color-blog);
}



/* --------------------------------------------------------------------- */
/* -- HELPERS
/* --------------------------------------------------------------------- */

.is-sticky {
    z-index: 50;
}

.hidden {
    display: none;
}

.is-darken {
    background-color: darken($color-body,5);
}

.has-padding {
    padding: 5rem 0;
    @media (max-width: $sitewrap) {
        padding: 3rem 0;
    }
}

.has-border {
    border-top: 1px solid darken($color-body,5);
    border-bottom: 1px solid darken($color-body,5);
}

.margin-top-25 {
    margin-top: 2.5rem;
}



/* -- GRILLE AUTO DISPLAY TABLE
/* ---------------------------- */

.gridtab {
    &.has-gutter {
        overflow: hidden;
    }
}

.gridtab-inner {
    display: table;
    width: 100%;
    table-layout: fixed;
    .has-gutter & {
        width: calc(100% + 6rem);
        margin-right: -3rem;
        margin-left: -3rem;
        border-spacing: 3rem 0;
    }
    @media (max-width: $sitewrap) {
        .has-gutter & {
            width: calc(100% + 3rem);
            margin-right: -1.5rem;
            margin-left: -1.5rem;
            border-spacing: 1.5rem 0;
        }
    }
}

.gridtab-item {
    display: table-cell;
    vertical-align: middle;
}



/* --------------------------------------------------------------------- */
/* -- MODULES LANGUES
/* --------------------------------------------------------------------- */

.langues {
    position: relative;
}

.langues-toggle {
    display: block;
    padding-right: 1rem;
    padding-left: 1rem;
    background-color: darken($color-body,5);
    img {
        margin-top: .7rem;
        vertical-align: top;
    }
    &:focus,
    &:hover,
    &:active {
        background-color: $color-action;
    }
}

.langues-list {
    position: absolute;
    display: none;
    right: 0;
    z-index: 10;
    border-top: 1px solid darken($color-body,5);
    background-color: darken($color-body,5);
}

.langues-list-item {
    display: block;
    padding: 1rem;
    &:focus,
    &:hover,
    &:active {
        background-color: $color-action;
    }
}

.langues-list-flag {
    display: block;
}

.langues-inner {
    &:focus,
    &:hover,
    &:active {
        .langues-toggle {
            background-color: $color-action;
        }
        .langues-list {
            display: block;
        }
    }
}



/* --------------------------------------------------------------------- */
/* -- HEADER
/* --------------------------------------------------------------------- */

.header {
    position: relative;
    z-index: 60;
}


/* -- HEADER TOP
/* ---------------------------- */

.header-top {
    border-bottom: 1px solid darken($color-body,5);
    background-color: $color-body;
    text-align: right;

    /* MODULE RESEAUX SOCIAUX*/
    .social-links {
        display: inline-block;
        margin-left: -.25rem;
        vertical-align: middle;
        @media (max-width:980px) {
            display: none;
        }
    }

    /* MODULE LANGUES*/
    .langues {
        display: inline-block;
        margin-left: -.25rem;
        vertical-align: middle;
    }
    .langues-toggle {
        height: 30px;
    }
}

.header-top-item {
    display: inline-block;
    height: 30px;
    overflow: hidden;
    padding-right: 2rem;
    vertical-align: middle;
    font-size: .875em;
    line-height: 30px;
}

.header-top-agence {
    padding-left: 2rem;
    cursor: pointer;
    background-color: darken($color-body,5);
    -webkit-transition: all .3s ease;
    transition: all .3s ease;
    [class*="icon"] {
        margin-right: .5rem;
    }
    &:focus,
    &:hover,
    &:active {
        background-color: $color-action;
        @include lightnessColor($color-action,no);
    }
}

.header-top-agences {
    padding: 0;
    background-color: darken($color-body,5);
    text-align: center;
    a {
        display: block;
        overflow: hidden;
        padding: 0 2rem;
        background-color: darken($color-body,5);
        white-space: pre;
        text-overflow: ellipsis;
        &:focus,
        &:hover,
        &:active {
            background-color: $color-action;
            @include lightnessColor($color-action,no);
        }
    }
}


/* -- HEADER MAIN
/* ---------------------------- */

.header-main {
    position: relative;
    z-index: 5;
    padding: 1rem;
    border-bottom: 1px solid darken($color-body,5);
    background-color: $color-body;
}

.header-main-inner {
    display: table;
    width: 100%;
}

.header-main-top {
    position: relative;
    text-align: center;
}

.logo,
.menu,
.shortcut {
    display: table-cell;
    vertical-align: middle;
}



/* --------------------------------------------------------------------- */
/* -- LOGO
/* --------------------------------------------------------------------- */

.logo {
    padding-right: 2rem;
    img {
        max-width: 300px;
        max-height: 75px;
    }
    .header-main-top & {
        display: inline-block;
        margin-bottom: 1rem;
    }
    &.is-absolute {
        display: block;
        position: relative;
        width: 180px;
        text-align: center;
        img {
            position: absolute;
            top: 0;
            left: 0;
            max-width: 180px;
            max-height: none;
        }
    }
}



/* --------------------------------------------------------------------- */
/* -- MENU
/* --------------------------------------------------------------------- */

.menu {
    width: 100%;
    text-align: center;
    a {
        display: block;
        padding: 1rem 2rem;
        color: $color-nav-footer;
        font-family: $font-title;
        font-weight: $weight-title;
        text-transform: $type-title;
        &:focus,
        &:hover,
        &:active {
            color: $color-action;
        }
        &.menu-sub-on {
            background-color: $color-action;
            @include lightnessColor($color-action,no);
        }
    }
}

.menu-principal {
     > li {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        & + li {
            margin-left: -.3rem;
        }
    }
}

.menu-secondaire {
    position: absolute;
    display: table;
    width: 100%;
    right: 0;
    left: 0;
    background-color: darken($color-body,5);
    &.hidden {
        display: none;
    }
     > li {
        position: relative;
        display: table-cell;
        vertical-align: middle;
    }
}

.menu-sub {
    min-width: 100%;
    a {
        padding: .5rem 1rem;
        font-size: .875em;
        white-space: nowrap;
    }
    .menu-secondaire & {
        text-align: center;
    }
}

.menu-toggle,
.menu-classic-toggle {
    position: relative;
    display: inline-block;
    padding: 1rem 1.5rem;
    &.is-hidden {
        display: none;
    }
    &:before {
        color: $color-nav-footer;
        font-size: 24px;
    }
    &:after {
        position: absolute;
        width: 15px;
        height: 15px;
        top: 0;
        right: 0;
        content: attr(count);
        border-radius: 50%;
        background-color: $color-action;
        font-family: $font-body;
        font-size: .75em;
        line-height: 15px;
        text-align: center;
        @include lightnessColor($color-action,no);
    }
}


/* -- RACCOURCIS
/* ---------------------------- */

.shortcut {
    text-align: right;
    white-space: nowrap;
    .header-main-top & {
        position: absolute;
        top: 50%;
        right: 0;
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
    }
}

.shortcut-item {
    position: relative;
    display: inline-block;
    padding: 1rem 1.5rem;
    color: $color-nav-footer;
    font-size: 24px;
}

.shortcut-notif {
    position: absolute;
    width: 15px;
    height: 15px;
    top: 0;
    right: 0;
    border-radius: 50%;
    background-color: $color-action;
    font-family: $font-body;
    font-size: .45em;
    line-height: 14px;
    text-align: center;
    @include lightnessColor($color-action,no);
}



/* --------------------------------------------------------------------- */
/* -- FORMULAIRES
/* --------------------------------------------------------------------- */

textarea,
select,
input:not([type="submit"]),
.uneditable-input {
    height: auto;
    padding: .75rem;
    border: 1px solid darken($color-body,10);
    border-radius: 0;
    line-height: normal;
    -webkit-box-shadow: none;
    box-shadow: none;
    -webkit-transition: border-color .3s ease;
    transition: border-color .3s ease;
    @if $arrondi == yes {
        border-radius: 3px;
    }
    &:focus {
        outline: none;
        border-color: darken($color-action,10);
    }
}

input[type="file"] {
    border: 0;
    padding: 0;
}

.input-append {
    input,
    .btn {
        height: 4rem;
    }
    input {
        @if $arrondi == yes {
            border-radius: 3px 0 0 3px;
        }
    }
    .btn {
        line-height: 4rem;
        padding-top: 0;
        padding-bottom: 0;
        &:last-child {
            border-radius: 0;
            @if $arrondi == yes {
                border-radius: 0 3px 3px 0;
            }
        }
    }
}


.has-select {
    position: relative;
    select {
        padding-right: 3.5rem;
        cursor: pointer;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        &::-ms-expand,
        &::-ms-clear {
            display: none;
        }
    }
    &:after {
        position: absolute;
        width: 0;
        height: 0;
        top: 0;
        right: 15px;
        bottom: 0;
        content: "";
        margin: auto;
        pointer-events: none;
        border-width: 5px 5px 0 5px;
        border-style: solid;
        border-color: $color-action transparent transparent transparent;
        .ie9 & {
            content: none;
        }
    }
}

.zone-message-agence {
    textarea,
    select,
    input:not([type="submit"]) {
        border-color: $color-action;
    }
}



/* --------------------------------------------------------------------- */
/* -- TOP MODULE (SLIDER / MINIMOTEUR)
/* --------------------------------------------------------------------- */

.topmodule-col {
    display: table;
    width: 100%;
    height: 1px;
    table-layout: fixed;
    .slidermf,
    .moteurmf {
        display: table-cell;
        vertical-align: top;
    }
    .ie9 &,
    .ie10 & {
        height: 420px;
    }
    &.has-suggestions {
        .ie9 &,
        .ie10 & {
            height: 475px;
        }
    }
}

.topmodule-big {
    position: relative;
}



/* -- SLIDER
/* ---------------------------- */

.slidermf {
    position: relative;
    height: 500px;
    min-height: $slider-height;
    overflow: hidden;
    background-color: darken($color-body,5);
    .topmodule-col & {
        height: 100%;
    }
    .topmodule-big & {
        height: 800px;
    }
}

.slidermf-inner {
    height: 100%;
    overflow: hidden;
}

[class*="slidermf-ttl"] {
    position: absolute;
    width: 100%;
    top: 50%;
    z-index: 10;
    -webkit-transform: translateY(-50%);
    transform: translateY(-50%);
}
.slidermf-ttl-top {
    top: 1rem;
    -webkit-transform: none;
    transform: none;
}
.slidermf-ttl-bottom {
    top: auto;
    bottom: 2rem;
    -webkit-transform: none;
    transform: none;
}

.slidermf-item {
    width: 100%;
    height: 100%;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
}

.slidermf-video {
    position: absolute;
    min-width: 100%;
    min-height: 100%;
    bottom: 0;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
}

@for $i from 1 through 5 {
    .slidermf-item-#{$i} {
        background-image: url("../images/homepage/homepage_#{$i}.jpg");
    }
}


/* -- MINIMOTEUR
/* ---------------------------- */

.moteurmf {
    &.moteurmf-1 {
        background-color: $color-action;
    }
    &.moteurmf-2 {
        width: 650px;
    }
    &.moteurmf-3 {
        width: 550px;
        @if $arrondi == yes {
            overflow: hidden;
            border-radius: 5px;
            .moteurmf-tabs {
                border-radius: 5px 5px 0 0;
            }
        }
        &.moteurmf-center {
            margin-right: auto;
            margin-left: auto;
        }
        &.moteurmf-right {
            margin-left: auto;
        }
    }
    .message-suggest-liste {
        margin-top: -.1rem;
        .h3-like {
            font-size: 1em;
        }
    }
}

.moteurmf-absolute {
    position: absolute;
    width: 100%;
    top: 50%;
    z-index: 10;
    -webkit-transform: translateY(-50%);
    transform: translateY(-50%);
}

.moteurmf-tabs {
    display: table;
    width: 100%;
    table-layout: fixed;
}

.moteurmf-tab {
    display: table-cell;
    padding: 2.5rem;
    color: $color-font-body;
    background-color: $color-body;
    background-image: -webkit-gradient(linear,left top, right top,from($color-action), to($color-action));
    background-image: linear-gradient(to right,$color-action, $color-action);
    background-repeat: no-repeat;
    background-position: center bottom;
    background-size: 100% 0;
    font-family: $font-title;
    font-size: .875em;
    font-weight: $weight-title;
    text-align: center;
    text-transform: $type-title;
    -webkit-transition: background .3s ease, color .3s ease;
    transition: background .3s ease, color .3s ease;
    [class*="icon"] {
        display: block;
        margin-bottom: 2rem;
        font-size: 4em;
    }
    &:focus,
    &:hover,
    &:active {
        background-color: darken($color-body,5);
    }
    &.is-active {
        background-size: 100% 100%;
        @include lightnessColor($color-action,no);
        .ie9 & {
            background-color: $color-action;
        }
    }
}

.moteurmf-body {
    padding-top: 2rem;
    padding-bottom: 2rem;
    background-color: $color-action;
    .moteurmf-2 & {
        padding: 4rem;
        .has-suggestions & {
            padding-bottom: 2rem;
        }
    }
    .moteurmf-3 & {
        padding: 2rem;
    }
}

.moteurmf-more {
    .moteurmf-1 & {
        height: 0;
        visibility: hidden;
        overflow: hidden;
        opacity: 0;
        -webkit-transition: opacity .3s ease;
        transition: opacity .3s ease;
        &.is-open {
            height: auto;
            visibility: visible;
            opacity: 1;
        }
    }
}

.moteurmf-field {
    position: relative;
    margin-bottom: 1.5rem;
    select,
    input {
        padding: 1rem;
        &:focus {
            border-color: $color-important;
        }
        &::placeholder {
            color: #333;
            opacity: 1;
        }
        &:-ms-input-placeholder {
            color: #333;
        }
        &::-ms-input-placeholder  {
            color: #333;
        }
    }
}

.moteurmf-submit {
    min-height: 45px;
    @if $arrondi == yes {
        &.btn {
            border-radius: 5px;
        }
    }
    [class*="icon"] {
        margin-right: .5rem;
        vertical-align: sub;
        font-size: 1.25em;
    }
}

.moteurmf-suggestions {
    font-size: .875em;
    line-height: 1.2;
    @include lightnessColor($color-action,no);
    a {
        @include lightnessColor($color-action,no);
        &:focus,
        &:hover,
        &:active {
            text-decoration: underline;
            @include lightnessColor($color-action,no);
        }
    }
    .moteurmf-2 &,
    .moteurmf-3 & {
        margin-top: 1.5rem;
    }
}



/* --------------------------------------------------------------------- */
/* -- SECTIONS
/* --------------------------------------------------------------------- */

.section-h1 {
    padding: 2rem 0;
    background-color: darken($color-body,5);
}

.section-ttl {
    margin-bottom: 2.5rem;
    font-size: 1.62em;
    line-height: 1;
    & + p {
        padding-top: 0;
    }
    @media (max-width: $sitewrap) {
        margin-bottom: 1.5rem;
    }
}



/* --------------------------------------------------------------------- */
/* -- FOOTER
/* --------------------------------------------------------------------- */

.footer-main {
    padding-top: 3rem;
    padding-bottom: 3rem;
}

.footer-ttl {
    margin-bottom: 1rem;
    font-family: $font-body;
    font-size: 1.25em;
    font-weight: normal;
    text-transform: none;
}

.footer-list {
    a {
        display: block;
    }
}

.footer-social {
    margin-top: -1px;
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    border-top: 1px solid darken($color-body,5);
    text-align: center;
    [class*="social-link-"] {
        display: inline-block;
        width: 40px;
        height: 40px;
        margin: 0 .25rem;
        border-radius: 50%;
        line-height: 4.2rem;
    }
}



/* --------------------------------------------------------------------- */
/* -- FIX V5
/* --------------------------------------------------------------------- */

.detail-agence-liste {
    .btn-neutre {
        @extend .btn-important;
    }
}

@media only screen and (min-width: 600px) and (max-width: 767px) {

    body {
        select,
        input[type="text"],
        input[type="email"],
        input[type="tel"] {
            font-size: inherit;
        }
        label {
            font-size: inherit;
        }
    }

}



/* --------------------------------------------------------------------- */
/* -- MEDIA QUERY - 980
/* --------------------------------------------------------------------- */

@media (max-width: 979px) {

    /* -- LOGO
    /* ---------------------------- */

    .header {
        .logo {
            img {
                float: none;
                width: auto;
                padding: 0;
            }
        }
    }


    /* -- MENU
    /* ---------------------------- */

    .menu {
        .menu-sub {
            position: absolute;
            margin-top: 0;
        }
    }


    /* -- TOP MODULE
    /* ---------------------------- */

    .topmodule-col {
        display: block;
        height: auto;
        .slidermf,
        .moteurmf {
            display: block;
            width: auto;
        }
        .ie9 &,
        .ie10 & {
            height: auto;
        }
        &.has-suggestions {
            .ie9 &,
            .ie10 & {
                height: auto;
            }
        }
    }

    .moteurmf {
        &.moteurmf-3 {
            width: auto;
            border-radius: 0;
            .moteurmf-tabs {
                border-radius: 0;
            }
        }
    }

    .moteurmf-absolute {
        position: static;
        top: auto;
        -webkit-transform: none;
        transform: none;
        & > .container {
            margin: 0;
        }
    }

    .slidermf {
        height: 250px;
        min-height: 0;
        .topmodule-col &,
        .topmodule-big &,
        .has-suggestions & {
            height: 250px;
            min-height: 0;
        }
    }

}



/* --------------------------------------------------------------------- */
/* -- MEDIA QUERY - 768
/* --------------------------------------------------------------------- */

@media (max-width:767px) {

    /* -- GLOBAL
    /* ---------------------------- */

    #Mini_Moteur {
        display: block;
    }

    .gridtab-inner,
    .gridtab-item {
        display: block;
    }



    /* -- HEADER
    /* ---------------------------- */

    .header-main-top {
        text-align: left;
    }



    /* -- LOGO
    /* ---------------------------- */

    .logo {
        img {
            max-width: 200px;
        }
        .header-main-top & {
            margin: 0;
        }
        &.is-absolute {
            width: auto;
            img {
                position: static;
                max-height: 75px;
                max-width: none;
            }
        }
    }


    /* -- MENU
    /* ---------------------------- */

    .menu {
        a {
            padding: .75rem 1rem;
            font-size: .875em;
        }
        .menu-sub {
            position: static;
            margin-top: 0;
            background-color: darken($color-body,10);
            text-align: center;
             > * {
                padding: 0;
            }
            li a {
                border-bottom-color: $color-body;
                &:focus,
                &:hover,
                &:active {
                    color: $color-action;
                    background: none;
                }
            }
        }
    }

    .menu-principal {
        height: 0;
        overflow: hidden;
    }

    .menu-classic {
        .menu-principal {
            position: absolute;
            display: none;
            height: auto;
            right: 0;
            left: 0;
            padding-top: 1rem;
            padding-bottom: 1rem;
            background-color: darken($color-body,5);
            &.is-open {
                display: block;
            }
            & > li {
                display: block;
                 + li {
                    margin-left: 0;
                }
            }
        }
    }

    .menu-secondaire {
        padding-top: 1rem;
        padding-bottom: 1rem;
         > li {
            display: block;
        }
    }

    .menu-toggle,
    .menu-classic-toggle {
        &:after {
            content: none;
        }
    }


    /* -- SECTIONS
    /* ---------------------------- */

    .section-ttl {
        font-size: 1.26em;
    }


    /* -- TOP MODULE
    /* ---------------------------- */

    .topmodule-big,
    .topmodule-col {
        .moteurmf {
            max-width: none;
        }
        .moteurmf-tab {
            padding-right: 1rem;
            padding-left: 1rem;
            line-height: 1.4;
            [class*="icon"] {
                margin-bottom: 1rem;
                font-size: 2em;
            }
        }
        .moteurmf-body {
            padding: 3rem 1.5rem 2.5rem 1.5rem;
            background-color: $color-action;
        }
    }

    .moteurmf-field {
        margin-bottom: 1rem;
    }


    /* -- FOOTER
    /* ---------------------------- */

    .footer-main {
        padding-bottom: 6rem;
    }

    .footer {
        .pagination-right {
            text-align: center;
        }
    }

}
