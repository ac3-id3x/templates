var regEmail=new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$","i"),regTel=new RegExp("^[0-9]{4,}$","i"),params_utils_ajax_post=null;function ajouterFavoris(e){"Microsoft Internet Explorer"!=navigator.appName?window.sidebar.addPanel(e,"http://"+e,""):window.external.AddFavorite("http://"+e,""+e)}function emailSpam(e,s){$("#"+s).html('<a href="mailto:'+e+'">'+e+"</a>")}function sliderBloc(e){$("html").hasClass("ie7")?$(e).hasClass("open")?($(e).hide(),$(e).removeClass("open")):($(e).show(),$(e).addClass("open")):$(e).hasClass("open")?$(e).slideUp(200,"swing",function(){$(this).removeClass("open")}):$(e).slideDown(400,"swing",function(){$(this).addClass("open")})}function sendAjaxPost(a){0==recaptcha_google_disabled&&(a.data=a.data+"&recaptcha_response="+a.token),$.ajax({type:"POST",data:a.data,dataType:"json",url:"/agence,incl_contact_email.htm",beforeSend:function(){$(".message-erreur-alerte").html(""),a.btn.removeClass("bouton-envoyer-message-agence")},success:function(e){var s=e.idpublication;0<e.message.length?($(".message-erreur-alerte").html(e.message),e.nom.length<=0?$("#nom-message"+s).parent().addClass("error").removeClass("success"):$("#nom-message"+s).parent().removeClass("error").addClass("success"),e.email.length<=0||0==regEmail.test(e.email)?$("#email-message"+s).parent().addClass("error").removeClass("success"):$("#email-message"+s).parent().removeClass("error").addClass("success"),e.telephone.length<=0||0==regTel.test(e.telephone)?$("#telephone-message"+s).parent().addClass("error").removeClass("success"):$("#telephone-message"+s).parent().removeClass("error").addClass("success"),e.message_user.length<=0?$("#message-message"+s).parent().addClass("error").removeClass("success"):$("#message-message"+s).parent().removeClass("error").addClass("success"),a.btn.button("reset"),a.btn.addClass("bouton-envoyer-message-agence")):(a.btn.parent().parent().parent().parent().find(".message-erreur-alerte").html("✔ Message envoyé"),$("#nom-message"+s).parent().removeClass("error").removeClass("success"),$("#email-message"+s).parent().removeClass("error").removeClass("success"),$("#telephone-message"+s).parent().removeClass("error").removeClass("success"),$("#message-message"+s).parent().removeClass("error").removeClass("success"),a.btn.removeClass("bouton-envoyer-message-agence"),a.btn.html(boutonOK),a.btn.unbind("click"))},error:function(e,s,n){a.btn.button("reset"),a.btn.addClass("bouton-envoyer-message-agence")},complete:function(){$(".message-erreur-alerte").show("slow")}})}$(document).ready(function(){function s(e,s){s.find('span[id*="texte-telephonez-nous"]').hide(),s.find('span[id*="numero-telephonez-nous"]').show(),s.attr("id",""),s.unbind("click")}979<winW&&$(".btn-tooltip").tooltip(),$("#texte-telephonez-nous").parent().click(function(){s(0,$(this))}),$("#texte-telephonez-nous-loc").parent().click(function(){s(0,$(this))}),$("#texte-telephonez-nous-ven").parent().click(function(){s(0,$(this))}),$("#texte-telephonez-nous-detail").parent().click(function(){s(0,$(this))}),$(".bloc-descriptif").on("click","#texte-telephonez-nous-detail",function(){s(0,$(this).parent())}),$(".container").on("click","#bouton-telephonez-nous-footer",function(){s(0,$(this))}),$("#bouton-telephonez-nous-txt").click(function(){s(0,$(this))}),$(".zone-message-agence, .bouton-agence, .form-envoi-message, .zone-agence-ajax, .detail-agence-liste, .container").on("click",'div[id*="bouton-telephonez-nous"]',function(){$(this).attr("id").split("-")[3];s(0,$(this))}),$(".zone-message-agence, .bouton-agence, .form-envoi-message, .zone-agence-ajax, .detail-agence-liste, .container").on("click",'div[id*="bouton-contactez-nous"]',function(){$(this).attr("id").split("-");!function(e,s){s.find("#texte-contactez-nous"+e).hide(),s.find("#email-contactez-nous"+e).show(),s.attr("id",""),s.unbind("click")}("",$(this))}),$(".contenu-header").on("click",'div[id*="bouton-telephonez-nous-header"]',function(){var e=$(this).attr("id").split("-");e[3],e[4];s(0,$(this))}),$(".bouton-agence, .form-envoi-message, .zone-agence-ajax").on("click",".bouton-envoyer-message-agence",function(e){e.preventDefault();var s=$(this);s.button("loading");$(this);var n=$(this).closest(".form-envoi-message").serialize().replace(",/g",",").replace(/%0D%0A/g," ");recaptcha_google_disabled?sendAjaxPost({data:n,btn:s}):(params_utils_ajax_post={data:n,token:null,btn:s},useGoogleRecaptcha({final_steps:"params_utils_ajax_post.token = eval('token'); sendAjaxPost(params_utils_ajax_post);"}))}),$(".dropdown input, .dropdown button").on("click",function(e){e.stopPropagation()}),winW<800&&$(".h2-title-moteur").on("click",function(){var e;(e=$(this).parent().parent().parent().find(".moteur-avantage-mobile")).hasClass("margin-top-20")?(e.children("div").hide(),e.removeClass("margin-top-20")):(e.addClass("margin-top-20"),e.children("div").show()),0==e.length&&((e=$(this).parent().find("#Mini_Moteur")).is(":visible")?e.hide():e.show())}),$(".btn-navbar").on("click",function(){var e=$(".menu-responsive");e.hasClass("in")?e.removeClass("in"):e.addClass("in")}),$(".menu-sub-container").children("a").on("click",function(e){e.preventDefault(),e.stopPropagation(),!0===$(this).parent().children(".menu-sub").hasClass("openSub")?($(this).find("a").first().removeClass("menu-sub-on"),$(this).children(".menu-sub").removeClass("openSub").hide()):($(".menu-sub").parent().find("a").removeClass("menu-sub-on"),$(".menu-sub").removeClass("openSub").hide(),$(this).parent().children(".menu-sub").hasClass("openSub")?($(this).parent().find("a").first().removeClass("menu-sub-on"),$(this).parent().children(".menu-sub").removeClass("openSub").hide()):($(this).parent().find("a").first().addClass("menu-sub-on"),$(this).parent().children(".menu-sub").addClass("openSub").show())),$("body").on("click",function(e){$(".menu-sub").parent().find("a").removeClass("menu-sub-on"),$(".menu-sub").removeClass("openSub").hide()})})});