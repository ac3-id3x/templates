var regEmail=new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$","i");function updateEngineFilters(e){if(null==engineGeoMap.mapObject){var t=null;if(null!=id3xContent&&(t=null!=id3xContent.geolocation.manager?id3xContent.geolocation.manager:null),null!=t&&(engineGeoMap.mapObject=0<t.mapObjectList.length?t.mapObjectList[0]:null),null!=engineGeoMap.mapObject){var n=engineGeoMap.mapObject.mapData;if(0<n.length&&(n[0].mapDataType===t.mapDataType.REALESTATES&&(engineGeoMap.mapDataIndex=0),1<n.length))for(i=0;i<n.length;i++)if(n[i].mapDataType===t.mapDataType.REALESTATES){engineGeoMap.mapDataIndex=i;break}}}null!=engineGeoMap.mapObject&&-1<engineGeoMap.mapDataIndex&&id3xContent.geolocation.manager.updateFilters({mapObject:engineGeoMap.mapObject,mapDataIndex:engineGeoMap.mapDataIndex,toDo:e.toDo,newFilter:e.newFilter})}$(document).ready(function(){$(".message-suggest-liste").on("click",function(e){e.preventDefault(),updateEngineFilters({toDo:"update",newFilter:{action:"",key:"nom",value:$(".saisie-suggest").val().trim()}})}),$(".ville-suggest-liste").on("click",function(e){e.preventDefault()}),$(".bouton-criteres").on("click",function(e){$("#criteres-plus").hasClass("criteres-plus-open")?($("#criteres-plus").hide(),$("#criteres-plus").removeClass("criteres-plus-open")):($("#criteres-plus").show(),$("#criteres-plus").addClass("criteres-plus-open"))}),$(".bouton-moteur-recherche, .bouton-moteur-recherche-carte, .bouton-moteur-recherche-liste").on("click",function(e){e.preventDefault(),$("#longitudeUser").remove(),$("#latitudeUser").remove(),$(".saisie-suggest").val(""),$(this).button("loading"),$("#moteur-recherche").submit(),$(".saisie-suggest").val($(".saisie-suggest").attr("data-value"))}),$(".bouton-bien-recherche").on("click",function(e){var t=$(this);e.preventDefault(),t.hasClass("bienOK")?t.addClass("btn-neutre").removeClass("btn-action").removeClass("bienOK"):t.addClass("btn-action").addClass("bienOK").removeClass("btn-neutre")}),$("#moteur-carte-idtypebien").change(function(){$("#SousTypesBiens").length&&(dataSend="idtypebien="+$(this).val()+"&lang=fr&idtt="+$("#idtt").val(),$.ajax({type:"GET",data:dataSend,dataType:"html",url:"/moteur,incl_soustypesbiens_select.htm",success:function(e){$("#SousTypesBiens").html(e),$("#SousTypesBiens").find(".multiselect").multipleSelect()},error:function(e,t){},complete:function(e,t){}}))}),$(".bouton-budget-moteur, .bouton-surface-moteur").on("click",function(e){e.preventDefault()}),$(".bouton-search-ref-envoi").on("click",function(e){e.stopPropagation();var t=$("#refannonce").val();$("#refannonce").val(t),t.length<2?$(".erreur-saisie-ref").show():($(".erreur-saisie-ref").hide(),$("#moteur-reference").submit())})});