!function(e){e.fn.viewportChecker=function(a){var t={classToAdd:"visible",offset:100,repeat:!1,callbackFunction:function(e,a){},scrollHorizontal:!1};e.extend(t,a);var o=this,n=t.scrollHorizontal?e(window).width():e(window).height(),l=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html";return this.checkElements=function(){if(t.scrollHorizontal)var a=e(l).scrollLeft(),r=a+n;else var a=e(l).scrollTop(),r=a+n;o.each(function(){var o=e(this),n={},l={};if(o.data("add")&&(l.classToAdd=o.data("add")),o.data("offset")&&(l.offset=o.data("offset")),o.data("repeat")&&(l.repeat=o.data("repeat")),o.data("scrollHorizontal")&&(l.scrollHorizontal=o.data("scrollHorizontal")),e.extend(n,t),e.extend(n,l),!o.hasClass(n.classToAdd)||n.repeat){var i=n.scrollHorizontal?Math.round(o.offset().left)+n.offset:Math.round(o.offset().top)+n.offset,s=i+o.height();r>i&&s>a?(o.addClass(n.classToAdd),n.callbackFunction(o,"add")):o.hasClass(n.classToAdd)&&n.repeat&&(o.removeClass(n.classToAdd),n.callbackFunction(o,"remove"))}})},e(window).bind("load scroll touchmove",this.checkElements),e(window).resize(function(e){n=t.scrollHorizontal?e.currentTarget.innerWidth:e.currentTarget.innerHeight}),this.checkElements(),this}}(jQuery);