$$REM$$
====================================================================
//// <summary>Page d'administration produit : Gestion des informations hénérales </summary>
//// <remarks>
//// <para>Pages html inclues : </para>
//// <para>Liste des macros E utilisées dans cette page (sans &dollar;&dollar;) : GDP2:LECTURE_PRODUIT alias PRODUIT </para>
//// <para>Liste des macros E utilisées dans cette page (sans &dollar;&dollar;) : AUTH:VERIFICATION </para>
//// <para>Liste des macros P utilisées dans cette page (sans &dollar;&dollar;) : GDP2:MAJ_PRODUIT </para>
//// </remarks>
//// <update date="2007-11-19" author="jean-jacques.durmord">Création</update>
//// <update date="2007-11-26" author="jean-jacques.durmord">Modification - Lecture Produit</update>
===============
$$END:REM$$
$$E:AUTH:VERIFICATION$$
$$E:GDP2:LECTURE_PRODUIT:~ID:REP:1:ALIAS:PRODUIT$$

$$IF:AUTH:VERIFICATION:ADMINISTRATION$$
	$$IF:GDP2:MAJ_PRODUIT:ERRMSG$$
		<p class="erreur" >Message d'erreur : $$GDP2:MAJ_PRODUIT:ERRMSG$$</p>
	$$END$$
<form id="frminfogeneralproduit" name="frminfogeneralproduit" method="post" onSubmit="return validate('frminfogeneralproduit',var_AMPIG,msg_AMPIG);">
		<input type="hidden" name="u" value="GDP2:MAJ_PRODUIT">
		<input type="hidden" name="page_ok" value="/administration_liste_produit.htm">
		<input type="hidden" name="page_err" value="$$REP:URI$$">
		<input type="hidden" name="id" value="$$REP:1$$">
	<h1> Informations générales sur le produit :  
		$$IF=:0:REP:1$$ "nouveau produit" $$END$$
		$$IF!:0:REP:1$$ $$PRODUIT:TXTNOM$$ $$END$$
		</h1>
	<div  class="cadrefonce">
		&nbsp;
		<table>
			<tr>
				<td><label for="txtmnemonique" >Mnémonique *</label></td>
				<td><input style="text" name="txtmnemonique" id="txtmnemonique" maxlength="20" $$IF!:0:REP:1$$readonly="readonly"$$END$$ value="$$PRODUIT:TXTMNEMONIQUE$$"></td>
				<td width="10px" ></td>
				<td><label for="txtnom" >Nom du produit *</label></td>
				<td><input style="text" name="txtnom" id="txtnom" maxlength="256" value="$$PRODUIT:TXTNOM$$"></td>
			</tr>
			<tr>
				<td><label for="chkranking" >Si ranking :</label></td>
				<td>
					<input type="checkbox" name="chkranking" 
						id="chkranking"  
						$$IF:PRODUIT:CHKRANKING$$
							checked="checked" 
						$$END$$ >
				</td>
				<td width="10px" ></td>
				<td><label for="chkvisible" >Visible :</td>
				<td>
					<input type="checkbox" name="chkvisible" 
						id="chkvisible"  $$IF:PRODUIT:CHKVISIBLE$$
							checked="checked" 
						$$END$$ >
				</td>
			</tr>
			<tr>
				<td><label   >Type de produit :</label></td>
				<td colspan="4" >
					<label >Site</label>&nbsp;
					<input type="radio" name="opttypeproduit" id="opttypeproduit_1" 
						value="1" 
						$$IF=:1:PRODUIT:OPTTYPEPRODUIT$$
							checked="checked" 
						$$END$$ > 
					<label >Référencement</label>&nbsp;
					<input type="radio" name="opttypeproduit" id="opttypeproduit_2" 
						value="2"
						$$IF=:2:PRODUIT:OPTTYPEPRODUIT$$
							checked="checked" 
						$$END$$ >
						$$IF!:1:PRODUIT:OPTTYPEPRODUIT$$
							$$IF!:2:PRODUIT:OPTTYPEPRODUIT$$
								<span class="erreur" >Sélection non valide</span>
							$$END$$    
						$$END$$    
				</td>
			</tr>
		</table>
		$$IF=:1:REP:2$$
	    	<p align=right ><input id="btnAMPLreset" type="reset" value="Annulation" />
	    	&nbsp;<input id="btnAMPLvalidation" type="submit" value="Validation"  /></p>
		$$END$$		
	</div>
	(*) Champs obligatoires
</form>
$$END$$
$$IF0:AUTH:VERIFICATION:ADMINISTRATION$$
	<center><p class="erreur" >Vous n'avez pas les autorisations nécessaire pour visualiser cette page</p></center>
$$END$$
<script >
/*
				Valeur 	Origine 		Vérification 
				-------------------------------------------------------------------------------------------------------
				e 			empty 			l'élément ne doit pas être vide 
				n 			number 			l'élément doit être un nombre 
				m 			mail 				une adresse élctronique doit être exacte sur la forme 
				r 			regexp 			la valeur doit correspondre à un modèle déterminé 
				p 			price 			la valeur doit se présenter sous la forme "10,00" (avec virgule) 
				p. 			price_dot 	la valeur doit se présenter sous la forme "10.00" (avec point) 
				c 			capitalize 	Les noms propres doivent être corrigés 
 				t				length			Contrôle si on dépasse pas la taille max
*/
		var msg_AMPIG = 'GESTPROD V2 - Erreur - Formulaire';

		var var_AMPIG = new Array();
		var_AMPIG[0] = new Array('txtmnemonique','e','Vous n\'avez pas mentionné le mnémonique ','');
		var_AMPIG[1] = new Array('txtmnemonique','t',': cette valeur est trop grande (max:20)','20');
		var_AMPIG[2] = new Array('txtnom','e','Vous n\'avez pas mentionné le libellé','');
		var_AMPIG[3] = new Array('txtnom','t',': cette valeur est trop grande (max:256)','256');

</script>	